<% set_meta_tags og: { image: image_public_url(ogp_image(@gif.image)) } %>
<% set_meta_tags twitter: { card: 'summary_large_image' } %>

<%= image_tag @gif.image %>

<div class="field has-addons copy-button">
  <div class="control has-icons-right">
    <%= url_field_tag 'public_url', full_url_for(@gif.image), class: 'input', readonly: true %>
  </div>
  <div class="control">
    <button class="button is-info has-tooltip-arrow" data-tooltip-tmp="Copied!">
      <span class="icon">
        <i class="fas fa-copy"></i>
      </span>
    </button>
  </div>
</div>

<div class="field">
  <a class="button is-info is-small" href="<%= tweet_url(@gif.title, gif_url(@gif)) %>" target="_blank" rel="ugc noopenner noreferrer">
    <span class="icon">
      <i class="fab fa-twitter"></i>
    </span>
    <span>Tweet</span>
  </a>
</div>

<div class="padding-20">
  <p>
    <strong><%= Gif.human_attribute_name('title') %>:</strong>
    <%= title @gif.title %>
  </p>

  <p>
    <strong><%= Gif.human_attribute_name('source_url') %>:</strong>
    <%= link_to @gif.source_url, @gif.source_url, target: '_blank', rel: 'ugc noopener noreferrer' %>
  </p>

  <p>
    <strong><%= Gif.human_attribute_name('user') %>:</strong>
    <%= link_to @gif.user.displayname, users_path(@gif.user) %>
  </p>

  <p>
    <strong><%= Gif.human_attribute_name('tag_list') %>:</strong>
    <% @gif.tag_list.map do |tag| %>
      <%= link_to tag_path(tag) do %>
        <span class="tag is-link"><%= tag %></span>
      <% end %>
    <% end %>
  </p>

  <%= link_to 'Edit', edit_gif_path(@gif) %> |
  <%= link_to 'Back', gifs_path %>
</div>
